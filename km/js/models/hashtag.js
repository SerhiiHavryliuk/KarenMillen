"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),FrondevoHashTag=function(){function e(){_classCallCheck(this,e),this.buttonPreviousRecords=$(".inspiration__button-previous-records"),this.inspiration=$(".inspiration"),this.urlGetUrlActionForinspiration=this.inspiration.attr("data-get-url"),this.arrWhatNeedForGetPreviousRecords=[{selector:".inspiration",attrName:"data-list-page"},{selector:".inspiration",attrName:"data-get-url"}],this.elWherePrelaoderAppend=$("body"),this.preloaderHTML='<div class="overlay_preloader" id="overlay-preloader"><div class="preloader"></div></div>',this.preloaderSelector="#overlay-preloader",this.inspirationImg=$(".inspiration__content-img"),this.inspirationFlag=!0,this._eventHandlersInit()}return _createClass(e,[{key:"_initModules",value:function(){this.getPreviousRecords=new FrondevoGetCatalogItems(this.urlGetUrlActionForinspiration,this.inspiration,this.attrForCurentPage),this._addPreloader()}},{key:"_getDataWhatCanBeSendForPreviousRecords",value:function(){var e="";return this.arrWhatNeedForGetPreviousRecords.forEach(function(t){e+="&"+t.attrName+"="+$(t.selector).attr(t.attrName)}),e}},{key:"_getPreviousRecords",value:function(){var e=this;this._showPreloader();var t=this._getDataWhatCanBeSendForPreviousRecords();this.getPreviousRecords.getItems(t).then(function(t){e._showNewPreviousRecords(t.htmlCode,t.page)},function(e){console.error("Не удалось загрузить данные!",e),this._hidePreloader()})}},{key:"_showNewPreviousRecords",value:function(e,t){this.inspiration.append(e),this._hidePreloader()}},{key:"_addPreloader",value:function(){this.elWherePrelaoderAppend.append(this.preloaderHTML),this.preloader=$(this.preloaderSelector)}},{key:"_showPreloader",value:function(){this.preloader.addClass("show")}},{key:"_hidePreloader",value:function(){this.preloader.removeClass("show")}},{key:"_showHover",value:function(e){if(document.documentElement.clientWidth<1024){if(1==this.inspirationFlag)return this.inspirationImg.addClass(".inspiration__content-img-hover"),$(e).parent().parent().find(".inspiration__img-hover-text").addClass("inspiration__show-hover"),$(e).parent().parent().parent().find(".inspiration__content-img-title").addClass("inspiration__show-hover"),this.inspirationFlag=!1,!1;0==this.inspirationFlag&&("inspiration__img-hover-text inspiration__show-hover"==e.className?location.href=$(e).parent().attr("href"):location.href=$(e).parent().parent().attr("href"))}}},{key:"_eventHandlersInit",value:function(){var e=this;$(document).on("ready",function(){return e._initModules()}),this.buttonPreviousRecords.on("click",function(){return e._getPreviousRecords()}),this.inspirationImg.on("click",function(){return e._showHover(event.target)})}}]),e}(),inspiration=new FrondevoHashTag;