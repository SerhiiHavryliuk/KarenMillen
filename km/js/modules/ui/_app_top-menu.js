"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),FrondevoTopNav=function(){function e(n){_classCallCheck(this,e),this.topNav=n,this.topNavUl=this.topNav.find("ul").eq(0),this.arrTopNavSubMenu=this.topNavUl.find(".h-menu-dd__layout-sub-menu"),this.flagIsUnderMenu=!1,this.openSubMenuClassName="h-menu-dd_open",this.itemMenuSel=".h-menu-dd__item",this.arrItemMenuFirstLevel=this.topNav.find(this.itemMenuSel),this.arrItemMenuSecondLevel=this.topNav.find("li[data-toogle-mob-sub-sub-menu]"),this.elForShowMobMenu=$("#h-menu-dd__show-menu"),this.infoString=$(".info-string"),this._eventHandlersInit()}return _createClass(e,[{key:"_firedIfShowDropDownMenu",value:function(){var e=this;this.flagIsUnderMenu=!0,setTimeout(function(){return e._checkIsStillUnderMenu()},300)}},{key:"_checkIsStillUnderMenu",value:function(){if(1==this.flagIsUnderMenu){this.topNav.addClass(this.openSubMenuClassName);var e=$.Event("topMenuDropDown:show");return this.topNav.trigger(e),this}}},{key:"_firedIfHideDropDownMenu",value:function(){this.flagIsUnderMenu=!1,this.topNav.removeClass(this.openSubMenuClassName);var e=$.Event("topMenuDropDown:hide");return this.topNav.trigger(e),this}},{key:"_toogleSubMenuForMobile",value:function(e){if(!(window.innerWidth>1024)){e.preventDefault(),e.stopPropagation();var n=$(e.target).parents("li").eq(0);if(n.hasClass("h-menu__item-link")){var t=void 0;t=$(e.target).attr("href")?$(e.target).attr("href"):$(e.target).parent().attr("href"),document.location.href=t}!n.hasClass("h-menu__item-open")&&n.hasClass("h-menu-dd__item")?window.innerWidth<1e3&&n.addClass("h-menu__item-open"):n.hasClass("h-menu-dd__item")&&n.removeClass("h-menu__item-open")}}},{key:"_toogleSubSubMenuForMobile",value:function(e){e.preventDefault(),e.stopPropagation();var n=$(e.target).parent();if(n.hasClass("h-menu-dd__folded")){var t=n.parents(".h-menu-dd__layout-sub-menu").eq(0).find("ul[data-mob-sub-sub-menu]");t.addClass("h-menu-dd__folded"),n.removeClass("h-menu-dd__folded")}}},{key:"_setPositionMobMenu",value:function(){this.infoString.length>0?this.topNavUl.addClass("h-menu-dd__list_info-string-in-header"):this.topNavUl.removeClass("h-menu-dd__list_info-string-in-header")}},{key:"_toggleGlobalScroll",value:function(){this.elForShowMobMenu.is(":checked")?$("html").addClass("noscroll"):$("html").removeClass("noscroll")}},{key:"_eventHandlersInit",value:function(){var e=this;this.topNavUl.on("mouseenter",function(){return e._firedIfShowDropDownMenu()}),this.topNavUl.on("mouseleave",function(){return e._firedIfHideDropDownMenu()}),this.arrTopNavSubMenu.on("transitionend",function(){return e._removeAnimationForSubmenu()}),this.arrItemMenuFirstLevel.on("touchend",function(){return e._toogleSubMenuForMobile(event)}),this.arrItemMenuSecondLevel.on("touchend",function(){return e._toogleSubSubMenuForMobile(event)}),this.elForShowMobMenu.on("change",function(){return e._setPositionMobMenu()}),this.elForShowMobMenu.on("change",function(){return e._toggleGlobalScroll()})}}]),e}();